<style media="screen">
    .auto .list-group button{
        margin-left: 0;
    }
    .form-group>div{
        margin-bottom: 15px;
    }
    .template-title{
        font-size: 18px;
        margin-left: 30px;
        padding-top: 15px;
    }
</style>
<div class="row" id="templatemessage" ng-controller="TemplateMessageController">
    <div class="col-lg-3">
        <rd-widget>
            <rd-widget-header icon="fa-gift" title="消息列表"></rd-widget-header>
            <rd-widget-body classes="auto no-padding">
                <div class="list-group">
                    <button class="list-group-item" ng-repeat="(key, value) in message" on-finish-render
                        ng-click="editMessage(key);">{{value.label}}</button>
                </div>
            </rd-widget-body>
        </rd-widget>
    </div>
    <div class="col-lg-9">
        <rd-widget>
            <rd-widget-header icon="fa-gift" title="{{settingList[setting.key]}}"></rd-widget-header>
            <rd-widget-body classes="auto no-padding">
                <div class="row" ng-if="template">
                    <div class="col-md-12">
                        <form name="form.messageForm" class="form-horizontal" ng-submit="submit(form.propertyForm.$valid)" autocomplete="off">
                            <div class="form-group">
                                <label class="template-title">{{template.label}}</label>
                            </div>
                            <div class="form-group" style="margin-bottom:0;">
                                <label class="control-label col-md-1">微信模板</label>
                                <div class="col-md-11 toggle">
                                    <i class="fa fa-toggle-on active" ng-if="template.wechat.active" ng-click="template.wechat.active = changeState(template.wechat.active);"></i>
                                    <i class="fa fa-toggle-on fa-rotate-180 inactive" ng-if="!template.wechat.active" ng-click="template.wechat.active = changeState(template.wechat.active);"></i>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-10 col-md-offset-1">
                                    <input type="text" class="form-control" name="template_id" ng-model="template.wechat.template_id" required>
                                </div>
                                <div class="col-md-10 col-md-offset-1">
                                    <textarea class="form-control" rows="8" ng-model="template.wechat.data_format"></textarea>
                                </div>
                            </div>
                            <div class="form-group" style="margin-bottom:0;">
                                <label class="control-label col-md-1">短信模板</label>
                                <div class="col-md-11 toggle">
                                    <i class="fa fa-toggle-on active" ng-if="template.sms.active" ng-click="template.sms.active = changeState(template.sms.active);"></i>
                                    <i class="fa fa-toggle-on fa-rotate-180 inactive" ng-if="!template.sms.active" ng-click="template.sms.active = changeState(template.sms.active);"></i>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-10 col-md-offset-1">
                                    <input type="text" class="form-control" name="sms_template_code" ng-model="template.sms.sms_template_code" required>
                                </div>
                                <div class="col-md-10 col-md-offset-1">
                                    <textarea class="form-control" rows="6" ng-model="template.sms.sms_param"></textarea>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-5 col-md-offset-1">
                                    <button type="button" class="btn btn-primary" ng-click="saveMessage();">保存</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </rd-widget-body>
        </rd-widget>
    </div>
</div>
